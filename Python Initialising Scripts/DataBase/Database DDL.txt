CREATE TABLE GaugeStation(
id VARCHAR(30) PRIMARY KEY,
RLOIid VARCHAR(20) UNIQUE,
catchmentName VARCHAR(75),	
dateOpened DATE,
datumOffset DECIMAL,
label  VARCHAR(100) NOT NULL,
notation  VARCHAR(75) NOT NULL,
riverName VARCHAR(75),
stationReference VARCHAR(20) NOT NULL,
town VARCHAR(75),
wiskiID VARCHAR(20),
lat DECIMAL NOT NULL,
long DECIMAL NOT NULL,
easting INTEGER,
northing INTEGER,
status VARCHAR(200),
statusReason VARCHAR(200),
statusDate TIMESTAMP,
type VARCHAR(20) NOT NULL,
highestRecentDateTime TIMESTAMP,
highestRecent DECIMAL,
maxOnRecordDateTime TIMESTAMP,
maxOnRecord DECIMAL,
minOnRecordDateTime TIMESTAMP,
minOnRecord DECIMAL,
scaleMax DECIMAL,
datum DECIMAL,
typicalRangeHigh DECIMAL,
typicalRangeLow DECIMAL
);

CREATE TABLE GaugeMeasure(
id VARCHAR(60) PRIMARY KEY,
datumType VARCHAR(20),
label VARCHAR(100) NOT NULL,
notation VARCHAR(75) NOT NULL,
parameter VARCHAR(30) NOT NULL,
parameterName VARCHAR(30) NOT NULL,
period DECIMAL,
qualifier VARCHAR(30) NOT NULL,
station VARCHAR(30) REFERENCES GaugeStation (id),
stationReference VARCHAR(20) NOT NULL,
unit VARCHAR(30),
unitName VARCHAR(20),
valueType VARCHAR(20)
);

CREATE TABLE GaugeReading(
dateTime TIMESTAMP,
measureId VARCHAR(60) REFERENCES GaugeMeasure (id),
VALUE DECIMAL NOT NULL,
PRIMARY KEY (dateTime, measureId)
);

CREATE TABLE hourlygaugereading
(
    datetime TIMESTAMP NOT NULL,
    measureid VARCHAR(60) NOT NULL,
    value NUMERIC NOT NULL,
    CONSTRAINT ghourlygaugereading_pkey PRIMARY KEY (datetime, measureid),
    CONSTRAINT gaugereading_measureid_fkey FOREIGN KEY (measureid) REFERENCES gaugemeasure (id)
);

CREATE TABLE SrewStations(
id DECIMAL PRIMARY KEY,
id_type VARCHAR(10),
met_domain_name VARCHAR(15),
src_id DECIMAL,
lat DECIMAL NOT NULL,
long DECIMAL NOT NULL,
src_name VARCHAR(100)
);

CREATE TABLE HourlySrewReading
(
    datetime TIMESTAMP NOT NULL,
    stationId DECIMAL NOT NULL,
    VALUE DECIMAL NOT NULL,
    CONSTRAINT HourlySrewReading_pkey PRIMARY KEY (datetime, stationId),
    CONSTRAINT HourlySrewReading_stationId_fkey FOREIGN KEY (stationId) REFERENCES SrewStations(id)
);

CREATE TABLE nimrodcatchments
(
    id VARCHAR(30) PRIMARY KEY,
    raincells VARCHAR(8) ARRAY
);

CREATE TABLE nimrodreading
(
    id VARCHAR(30),
    datetime TIMESTAMP,
    data INTEGER ARRAY,
    PRIMARY KEY (id, datetime),
    CONSTRAINT nimrodreading_id_fkey FOREIGN KEY (id) REFERENCES nimrodcatchments (id)
);